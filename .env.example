# Tether Configuration
# Copy to .env and fill in your values

# =============================================================================
# Core Agent Settings
# =============================================================================

# Auth token for agent API (required unless TETHER_AGENT_DEV_MODE=1)
# Optional: set to enforce bearer auth for the API/UI.
TETHER_AGENT_TOKEN=your-secure-token-here

# Development mode disables auth requirement
# TETHER_AGENT_DEV_MODE=1

# Host and port to bind the HTTP server
# TETHER_AGENT_HOST=0.0.0.0
# TETHER_AGENT_PORT=8787

# Directory for persistent data (sessions, logs, database)
# TETHER_AGENT_DATA_DIR=/path/to/data

# Default runner adapter for new sessions:
#   - codex_cli: Legacy Codex CLI runner
#   - codex_sdk_sidecar: Codex SDK sidecar
#   - claude_api: Claude via Anthropic SDK (requires API key)
#   - claude_local: Claude via Agent SDK (CLI OAuth)
#   - claude_auto: Auto-detect (prefer OAuth, fallback to API key)
#
# Note: Sessions can override this by specifying "adapter" at creation time.
# Multiple adapters can run simultaneously if credentials are configured.
TETHER_AGENT_ADAPTER=claude_local

# =============================================================================
# Logging Settings
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# TETHER_AGENT_LOG_LEVEL=INFO

# Log format: "console" for dev-friendly, "json" for structured
# TETHER_AGENT_LOG_FORMAT=console

# =============================================================================
# Session Settings
# =============================================================================

# Days to retain completed sessions before pruning (default: 7)
# TETHER_AGENT_SESSION_RETENTION_DAYS=7

# Seconds of inactivity before stopping a running session (0 = disabled)
# TETHER_AGENT_SESSION_IDLE_SECONDS=0

# Maximum seconds for a runner turn before timeout (0 = disabled)
# TETHER_AGENT_TURN_TIMEOUT_SECONDS=0

# =============================================================================
# Multi-Adapter Configuration
# =============================================================================

# You can configure multiple adapters simultaneously by providing credentials
# for each. Sessions will use the default adapter unless overridden at creation.
#
# Example: Support both Claude API and Codex CLI
#   TETHER_AGENT_ADAPTER=claude_auto          # Default for new sessions
#   ANTHROPIC_API_KEY=sk-ant-...              # For claude_api sessions
#   TETHER_AGENT_CODEX_BIN=/path/to/codex     # For codex_cli sessions
#
# Create session with specific adapter via API:
#   POST /api/sessions {"directory": "/path", "adapter": "codex_cli"}

# =============================================================================
# Claude API Key Adapter (when TETHER_AGENT_ADAPTER=claude_api)
# =============================================================================

# Required only for "claude_api" adapter; "claude_local" uses OAuth instead
# ANTHROPIC_API_KEY=sk-ant-...

# Model to use (default: claude-sonnet-4-20250514)
# TETHER_AGENT_CLAUDE_MODEL=claude-sonnet-4-20250514

# Maximum tokens for Claude responses (default: 4096)
# TETHER_AGENT_CLAUDE_MAX_TOKENS=4096

# =============================================================================
# Codex CLI Adapter (when TETHER_AGENT_ADAPTER=codex_cli)
# =============================================================================

# Path to the Codex CLI binary (required for codex_cli adapter)
# TETHER_AGENT_CODEX_BIN=/path/to/codex

# =============================================================================
# Codex SDK Sidecar Adapter (when TETHER_AGENT_ADAPTER=codex_sdk_sidecar)
# =============================================================================

# Base URL for the Codex SDK sidecar service (default: http://localhost:8788)
# TETHER_CODEX_SIDECAR_URL=http://localhost:8788

# Authentication token for sidecar communication (optional - auth disabled if not set)
# TETHER_CODEX_SIDECAR_TOKEN=your-sidecar-token

# Path to the Codex CLI binary (optional - SDK auto-detects from PATH)
# TETHER_CODEX_SIDECAR_CODEX_BIN=/path/to/codex

# =============================================================================
# Telegram Bridge (Optional)
# =============================================================================

# Bot token from @BotFather
# TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Your chat ID (use @userinfobot to find it)
# TELEGRAM_CHAT_ID=123456789
