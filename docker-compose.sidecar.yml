# Codex sidecar only - for use with native agent
# Usage: make start-codex

services:
  sidecar:
    build:
      context: .
      dockerfile: codex-sdk-sidecar/Dockerfile
    network_mode: host
    environment:
      - SIDECAR_HOST=127.0.0.1
      - SIDECAR_PORT=8788
      - SIDECAR_TOKEN=${TETHER_CODEX_SIDECAR_TOKEN:-}
      - OPENAI_API_KEY=${OPENAI_API_KEY:-}
      - CODEX_MODEL=${CODEX_MODEL:-}
    restart: unless-stopped
